<p-confirmDialog header="Confirmation" key="confirm1" icon="pi pi-exclamation-triangle"
  message="Are you sure you want to proceed?" [style]="{ width: '350px' }" acceptButtonStyleClass="p-button-text"
  rejectButtonStyleClass="p-button-text"></p-confirmDialog>
<div class="card">
  <div class="grid" *ngIf="!operation || operation === 'Update'">
    <div class="col-10 md:col-4 mb-4 px-5">
      <div class="text-700 mb-1 font-medium text-green-500">
        Variant Name:
      </div>
      <span class="text-900 line-height-3">{{
        updateEmployee?.name
        }}</span>
    </div>
    <div class="col-10 md:col-4 mb-4 px-5">
      <div class="text-700 mb-1 font-medium text-green-500">
        Variant Price:
      </div>
      <span class="text-900 line-height-3">{{
        updateEmployee?.state_id
        }}</span>
    </div>
    <div class="col-10 md:col-4 mb-4 px-5">
      <div class="text-700 mb-1 font-medium text-green-500">
        Commodity:
      </div>
      <span class="text-900 line-height-3">{{
        selectedEmployee?.name
        }}</span>
    </div>
    <div class="col-10 md:col-4 mb-4 px-5">
      <div class="text-700 mb-1 font-medium text-green-500">
        Measuring Unit:
      </div>
      <span class="text-900 line-height-3">{{
        selectedEmployee?.state_id
        }}</span>
    </div>

    <div class="col-10 md:col-4 mb-4 px-5">
      <div class="text-700 mb-1 font-medium text-green-500">
        Image:
      </div>
      <span class="text-900 line-height-3">
        <img style="border-radius: 6px" class="border rounded shadow-1 img-fix-h img-min-w img-fill-con mb-3"
          [src]="imageFile" style="max-width: 100px; max-height: 100px" onError="this.src='assets/images/noimage.gif';"
          alt="User avatar" />
      </span>
    </div>
    <hr style="width: 100%" />
    <div class="flex align-items-end justify-content-between w-full">
      <button pButton type="button" icon="pi pi-arrow-left" (click)="back()" label="Go Back"
        class="ml-5 p-button-outlined p-button-danger"></button>

      <div>
        <button pButton type="button" icon="pi pi-trash" (click)="delete()" class="p-button-outlined p-button-danger"
          label="Delete"></button>

        <button pButton type="button" icon="pi pi-pencil" (click)="processRequest()" [label]="
            operation === 'Update' ? operation : 'Edit'
          " class="ml-5 p-button-outlined p-button-success"></button>
      </div>
    </div>
  </div>

  <div class="card" header="Commodity Variant" *ngIf="operation === 'Edit'">
    <h5>Update Commodity Variant</h5>
    <br />
    <form class="form" [formGroup]="employeeForm">
      <div class="p-fluid p-formgrid grid">
        <div class="field col-8 md:col-6">
          <span class="p-float-label">
            <input pInputText id="user-group-name" type="text" placeholder="" formControlName="name" [class.ng-invalid]="
                employeeFormControls['name']
                  .invalid &&
                employeeFormControls['name'].touched
              " />
            <label for="user-group-name">Employee's Name</label>
          </span>
          <div *ngIf="
              employeeFormControls['name']
                .invalid &&
              employeeFormControls['name'].touched
            " class="p-error block">
            <small id="username2-help" class="p-error block" *ngIf="employeeFormControls['name'].errors?.['required']">
              This field is required
            </small>
            <small id="username2-help" class="p-error block" *ngIf="employeeFormControls['name'].errors?.['minlength']">
              Characters must be at least 3
            </small>
          </div>
        </div>
        <div class="field col-8 md:col-6">
          <span class="p-float-label">
            <input pInputText id="user-group-name" type="text" placeholder="" formControlName="price"
              [class.ng-invalid]="
                employeeFormControls['state_id']
                  .invalid &&
                employeeFormControls['state_id']
                  .touched
              " />
            <label for="user-group-name">Employee's State of Origin</label>
          </span>
          <div *ngIf="
              employeeFormControls['state_id']
                .invalid &&
              employeeFormControls['state_id'].touched
            " class="p-error block">
            <small id="username2-help" class="p-error block"
              *ngIf="employeeFormControls['state_id'].errors?.['required']">
              This field is required
            </small>
            <small id="username2-help" class="p-error block"
              *ngIf="employeeFormControls['state_id'].errors?.['minlength']">
              Characters must be at least 3
            </small>
          </div>
        </div>
        <div class="field col-8 md:col-6">
          <p-dropdown [options]="employees" [class.is-invalid]="
              employeeForm.controls['name']
                .invalid &&
              employeeForm.controls['name']
                .touched
            " name="name" id="name" formControlName="name" optionLabel="name"></p-dropdown>
          <div *ngIf="
              employeeForm.controls['name']
                .invalid &&
              employeeForm.controls['name']
                .touched
            ">
            <small *ngIf="employeeForm.controls['name'].errors?.['required']" class="p-error blockr">
              Employee's Name is Required</small>
          </div>
        </div>
        <div class="field col-8 md:col-6">
          <p-dropdown [options]="lgas" [class.is-invalid]="
              employeeForm.controls[
                'local_government_id'
              ].invalid &&
              employeeForm.controls[
                'local_government_id'
              ].touched
            " name="local_government_id" id="local_government_id" formControlName="name"
            optionLabel="State"></p-dropdown>
          <div *ngIf="
              employeeForm.controls[
                'marital_status_id'
              ].invalid &&
              employeeForm.controls[
                'marital_status_id'
              ].touched
            ">
            <small *ngIf="employeeForm.controls['marital_status_id'].errors?.['required']" class="p-error blockr">
              Marital Status is Required</small>
          </div>
        </div>
        <div class="flex align-content-center w-5">
          <div class="shadow-2 p-3 h-full flex flex-column surface-card" style="border-radius: 6px">
            <div class="text-900 font-medium text-xl mb-2">
              Image Upload
            </div>
            <div class="text-600 mb-3">
              Allowed JPG, GIF or PNG. Max size of 800kB
            </div>
            <img style="border-radius: 6px" class="border rounded shadow-1 img-fix-h img-min-w img-fill-con mb-3"
              [src]="imageFile" style="max-width: 100px; max-height: 100px"
              onError="this.src='assets/images/noimage.gif';" alt="User avatar" />
            <button pButton pRipple label="Upload Image" (click)="imageFileRef.click()"
              class="p-3 w-full mt-auto p-button-success"></button>
            <input type="file" #imageFileRef name="ImageUpload" id="ImageUpload" hidden accept="image/*"
              (change)="handleFileInputUploadImage($event)" />
          </div>
        </div>
      </div>
      <hr />
      <div class="flex justify-content-between w-full">
        <button pButton type="button" icon="pi pi-arrow-left" (click)="back()" label="Go Back"
          class="mr-5 p-button-outlined p-button-danger"></button>
        <button pButton type="button" icon="pi pi-eye" label="Preview" (click)="preview()"
          class="p-button-outlined p-button-primary" [disabled]="employeeForm.invalid"></button>
      </div>
    </form>
  </div>
</div>